"use strict";(self.webpackChunkmulti_tenant_ngrx=self.webpackChunkmulti_tenant_ngrx||[]).push([[592],{1828:(h,E,o)=>{o.d(E,{P:()=>l});var _=o(5620),n=o(2075),d=o(9830),a=o(8703),t=o(5e3),c=o(5215),D=o(7423),m=o(4449),O=o(9808),s=o(508),u=o(5245);function P(e,M){if(1&e){const r=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"h3",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){const g=t.CHM(r).$implicit;return t.oxw().delete(g.id)}),t.TgZ(4,"mat-icon"),t._uU(5,"delete"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const r=M.$implicit;t.xp6(2),t.hij(" ",r.name," ")}}let l=(()=>{class e{constructor(r,i){this.store=r,this.activatedRoute=i,this.products=void 0,this.tenant=a.gA}ngOnInit(){this.activatedRoute.data.subscribe(({tenant:r})=>{this.tenant=r,console.log("tenant",r),this.store.dispatch(n.QD(r)()),this.store.pipe((0,_.Ys)(d.Rn.for(r).selectAllProducts)).subscribe(i=>this.products=i)})}getRandomInt(r,i){const p=Math.ceil(r),g=Math.floor(i);return Math.floor(Math.random()*(g-p)+p)}add(){const r=this.getRandomInt(3,1e4);this.store.dispatch(n.gK(this.tenant)({product:{id:r,name:`[${this.tenant.key}] Product ${r}`}}))}delete(r){this.store.dispatch(n.Ir(this.tenant)({id:r}))}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(_.yh),t.Y36(c.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:4,vars:1,consts:[["mat-raised-button","","color","primary",2,"margin","10px",3,"click"],[4,"ngFor","ngForOf"],["matLine",""],["mat-icon-button","","color","primary",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.add()}),t._uU(1," Add Product\n"),t.qZA(),t.TgZ(2,"mat-nav-list"),t.YNc(3,P,6,1,"mat-list-item",1),t.qZA()),2&r&&(t.xp6(3),t.Q6J("ngForOf",i.products))},directives:[D.lW,m.Hk,O.sg,m.Tg,s.X2,u.Hw],styles:[""]}),e})()},9855:(h,E,o)=>{o.d(E,{s:()=>d});var _=o(5e3),n=o(520);let d=(()=>{class a{constructor(c){this.http=c}getProducts(c){return this.http.get(`mock-data/${c.key}-products.json`)}}return a.\u0275fac=function(c){return new(c||a)(_.LFG(n.eN))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},212:(h,E,o)=>{o.d(E,{X5:()=>D,Rp:()=>m,ic:()=>O});var _=o(6642),n=o(2075),d=o(3900),a=o(4004),t=o(262),c=o(9646);const D=(s,u,P)=>(0,_.GW)(()=>u.pipe((0,_.l4)(n.QD(s)),(0,d.w)(l=>P.getProducts(s).pipe((0,a.U)(e=>n.UE(s)({products:e})),(0,t.K)(e=>(0,c.of)(n.DS(s)())))))),m=(s,u,P)=>(0,_.GW)(()=>u.pipe((0,_.l4)(n.gK(s)),(0,d.w)(l=>(0,c.of)(n.NV(s)({product:l.product}))))),O=(s,u,P)=>(0,_.GW)(()=>u.pipe((0,_.l4)(n.Ir(s)),(0,d.w)(l=>(0,c.of)(n.Bl(s)({id:l.id})))))}}]);